!function(){"use strict";angular.module("in-out-rm",["ngSanitize",{name:"infinite-scroll",files:[window.file_base+"./libs/ng-infinite-scroll.min.js"]}])}(),function(){"use strict";function e(e,t,n,a,o,i){function r(n,a,o){function i(){function o(t){try{a.replaceWith(e(t)(n)),as_upgrade(10)}catch(e){}}function i(e){}var r,s;1==n.x.activity?s="nb_card_":2==n.x.activity?s="universal_mm_card_":4==n.x.activity?s="universal_ep_card_":5==n.x.activity?s="nb_job_":10==n.x.activity?s="nb_wu_":9==n.x.activity?s="nb_cu_":6==n.x.activity?s="jsf_card_":13==n.x.activity&&(s="campus_feed_card_"),r=4==n.x.activity_type||5==n.x.activity_type?2:1,2==n.x.activity&&8==n.x.activity_type&&(r=1),3==n.x.activity&&(s="event_card",r=""),7!=n.x.activity&&8!=n.x.activity&&t.get("./templates/modals/material/"+s+r+".html").success(o).error(i)}(4==n.x.activity||null!==n.x.activity_enhancer_id&&n.x["t"+n.x.activity+"_unique_user_id"]!=n.x.activity_enhancer_id)&&(n.isEnhancer=!0),1!=n.x.activity&&4!=n.x.activity&&2!=n.x.activity||2!=n.x.activity_type?1!=n.x.activity&&4!=n.x.activity&&2!=n.x.activity||3!=n.x.activity_type?1!=n.x.activity&&4!=n.x.activity||5!=n.x.activity_type?2==n.x.activity&&5==n.x.activity_type?n.actionString="answered a poll":4==n.x.activity&&(n.actionString="posted"):n.actionString="answered a poll":n.actionString="commented on a post":n.actionString="liked a post",n.$watch(o.lol,function(e){i()})}return{restrict:"A",scope:!0,link:r,controller:"NbCardController",controllerAs:"vm",bindToController:!0}}function t(e,t,n,a,o,i,r,s,c,m,l){function d(e){1==e&&p(),2==e&&u()}function u(){console.log("cloningPoll"),e.mailblinkBlink=!0;var t={};t.subject="New Poll in "+i.app_data.data.short_name+" Portal";var n=e.mainContent.$$unwrapTrustedValue();n=s.removeIframes(n);var a=h();a=Object.keys(a).map(function(e){return a[e]});var o="",c=i.app_base+"static/img/true.png",m=i.COMM_APPBASE+"post/"+e.x.activity_id+"?utm_source=admin_mail&utm_medium=email&utm_campaign=post/"+e.x.activity_id;a.length>2&&(o='<a href="'+m+'" style="text-decoration: none;"><table><tbody><tr><td></td><td>View More Options</td></tr></tbody></table></a>');var l={name:g(),community:i.app_data.data.short_name,pollContent:n,option1:a[0].content,option2:a[1].content,moreOption:o,trueImg:c,simpleUrl:i.COMM_APPBASE+"post/"+e.x.activity_id,thisPostHref:m,loginSrc:i.COMM_APPBASE+"account",linkname:encodeURIComponent("Poll from "+i.app_data.data.short_name)};s.render(["poll.html","email_sharer.html"],l,function(n){1==n.success&&(t.content=n.template,r.clone(t)),e.mailblinkBlink=!1})}function p(){function t(t,n){c.img1=t;var o=[u];n&&o.push(l[0]),s.render(o,c,function(t){1==t.success&&(a.content=t.template,r.clone(a)),e.mailblinkBlink=!1})}e.mailblinkBlink=!0;var n=new Date;n.setTime(1e3*f());var a={};a.subject="News from "+i.app_data.data.short_name,a.content="";var o=e.mainContent.$$unwrapTrustedValue();o=s.removeIframes(o),console.log("content",o);var c={name:g(),date:n.toDateString(),content:o,like:v(),comment:e.x.comments_count,picSrc:e.s3_url+"assets/images/profiles/50x50/"+P()+".jpg",community:i.app_data.data.short_name,thisPostHref:i.COMM_APPBASE+"post/"+e.x.activity_id+"?utm_source=admin_mail&utm_medium=email&utm_campaign=post/"+e.x.activity_id,loginSrc:i.COMM_APPBASE+"account",simpleUrl:i.COMM_APPBASE+"post/"+e.x.activity_id,linkname:encodeURIComponent("News from "+i.app_data.data.short_name)},m=["news_post_wo_img.html","news_post_w1_img.html","news_post_w2_img.html","news_post_w3_img.html"],l=["email_sharer.html"],d=S(),u=m[0];d.length>0?(u=d.length>2?m[3]:m[d.length],1==d.length&&_(d,function(e){t(e,!0)}),d.length>1&&(c.img1=d[0].src,c.img2=d[1].src,c.moreImg=d.length-2,t(c.img1,!0)),console.log("bigimg",c)):t("",!0)}function _(e,t){var n=new Image,a=e[0].src.replace("400x400","1024x1024");n.src=a,n.onload=function(){t(a)},n.onerror=function(){t(e[0].src)}}function g(){var t="t"+e.x.activity+"_unique_user_id";return e.newsPeopleInvolved.uuis[e.x[t]].first_name+" "+e.newsPeopleInvolved.uuis[e.x[t]].last_name}function f(){var t;return 1==e.x.activity||13==e.x.activity?t="t"+e.x.activity+"_time":2==e.x.activity||5==e.x.activity?t="t"+e.x.activity+"_created":4==e.x.activity&&(t="t"+e.x.activity+"_date"),e.x[t]}function v(){return e.x.likes_count}function h(){return e.newsPollOptions[e.x.activity][e.x.activity_id]}function y(){return e.x.t3_title}function x(){return e.x.t3_sdate}function w(){return e.x.t3_stime}function M(){return e.x.t3_event_id}function b(){return e.x.t3_event_logo}function S(){return e.x.images}function P(){return e.newsPeopleInvolved.uuis[e.x["t"+e.x.activity+"_unique_user_id"]].user_basic_id}function k(t,n,a){return t&&"string"==typeof t||(t="_unique_user_id"),n&&"string"==typeof n||(n="uuis"),a&&console.log("return",'$scope.newsPeop..."]]:',e.newsPeopleInvolved[n][e.x["t"+e.x.activity+t]],e.x,e.x["t"+e.x.activity+t]),e.newsPeopleInvolved[n][e.x["t"+e.x.activity+t]]}function C(){return e.x.t3_creator}function I(){return null!==e.x.activity_enhancer_id?e.newsPeopleInvolved.uuis[e.x.activity_enhancer_id].first_name+" "+e.newsPeopleInvolved.uuis[e.x.activity_enhancer_id].last_name:e.getPosterName()}function L(){return null!==e.x.activity_enhancer_id?e.newsPeopleInvolved.uuis[e.x.activity_enhancer_id].user_basic_id:e.posterBasicId()}function $(){return null!==e.x.t5_designation_name?e.x.t5_designation_name:e.x.t5_title}function D(t){if(0!==t)return{width:100*t/e.newsmaxVote[e.x.activity][e.x.activity_id]+"%"}}function O(){return e.x.activity_id}function A(){return e.x.is_liked}function E(){0===e.x.is_liked?(e.x.is_liked=1,e.x.likes_count++):(e.x.is_liked=0,e.x.likes_count--)}function q(){return 0===e.x.is_liked?"Like":"Liked"}function B(){if(void 0!==e.comments&&void 0!==e.comments[ae[e.x.activity]])return 1==ae[e.x.activity]?void 0===e.comments[ae[e.x.activity]][e.x.id]?void 0:e.comments[ae[e.x.activity]][e.x.id]:void 0===e.comments[ae[e.x.activity]][e.x.activity_id]?void 0:e.comments[ae[e.x.activity]][e.x.activity_id]}function T(){return e.x.comments_count<=2?"Comment":e.x.comments_count+" Comments"}function j(e,t,n,a){return datescheck(e,t,n,a)}function N(){function n(t){1==t.success&&(e.comments[ae[e.x.activity]][a]=t.data,as_upgrade(1e3))}if(e.x.comments_count>20){var a;a=1!=ae[e.x.activity]?e.x.activity_id:e.x.id,t({url:"./noticeboard/getAllComments",method:"POST",data:{parent_id:a,parent_table:ae[e.x.activity]},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(n)}else try{e.focusCommentBox()}catch(e){console.log(e)}}function R(t){void 0===e.comments[ae[e.x.activity]]&&(e.comments[ae[e.x.activity]]={}),1==ae[e.x.activity]?(void 0===e.comments[ae[e.x.activity]][e.x.id]&&(e.comments[ae[e.x.activity]][e.x.id]=[]),e.comments[ae[e.x.activity]][e.x.id].unshift(t.toInsert)):(void 0===e.comments[ae[e.x.activity]][e.x.activity_id]&&(e.comments[ae[e.x.activity]][e.x.activity_id]=[]),e.comments[ae[e.x.activity]][e.x.activity_id].unshift(t.toInsert)),e.x.comments_count++,as_upgrade(100)}function F(t,n){return 0!==t?{width:100*t/e.x.max_votes+"%"}:{width:"0%"}}function H(t,n){0===t||null===t?(e.newsPollOptions[e.x.activity][e.x.activity_id][n].voteID=1,e.newsPollOptions[e.x.activity][e.x.activity_id][n].no_votes++):(e.newsPollOptions[e.x.activity][e.x.activity_id][n].voteID=0,e.newsPollOptions[e.x.activity][e.x.activity_id][n].no_votes--),angular.forEach(e.newsPollOptions[e.x.activity][e.x.activity_id],function(t,a){t.voteID>0&&a!=n&&(e.newsPollOptions[e.x.activity][e.x.activity_id][a].voteID=0,e.newsPollOptions[e.x.activity][e.x.activity_id][a].no_votes--)}),e.x.max_votes=0,angular.forEach(e.newsPollOptions[e.x.activity][e.x.activity_id],function(t,n){parseInt(t.no_votes)>e.x.max_votes&&(e.x.max_votes=parseInt(t.no_votes))}),setTimeout(function(){componentHandler.upgradeAllRegistered()},10)}function U(){angular.isDefined(e.isChangingSettings)&&!0===e.isChangingSettings&&(e.isChangingSettings=!1)}function V(e){oe=oe==e?-1:e}function z(e){return e==oe}function W(){oe=-1}function G(t,n){return"post"==t?!0===e.x.ownership||!0===isAdmin:"comment"==t?1==ae[e.x.activity]?!0===e.comments[ae[e.x.activity]][e.x.id][n].ownership||!0===isAdmin:!0===e.comments[ae[e.x.activity]][e.x.activity_id][n].ownership||!0===isAdmin:void 0}function Y(){function n(t){e.x.__options.deleting=!1,1==t.success&&(snackbar_general("Post deleted successfully!",2500),e.splicePost())}e.x.__options.deleting=!0,t({url:"./noticeboard_actions_c/removeNewsAction",method:"POST",data:{newsID:e.x.t1_id},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(n)}function J(){e.newsData.splice(e.$index,1)}function K(t){1==ae[e.x.activity]?e.comments[ae[e.x.activity]][e.x.id].splice(t,1):e.comments[ae[e.x.activity]][e.x.activity_id].splice(t,1),e.x.comments_count--}function Q(t,n){var a;a=1==ae[e.x.activity]?e.x.id:e.x.activity_id,o.user_list(3,{parent_id:a,parentTable:ae[e.x.activity],heading:angular.isDefined(n)?n:"People who liked this post"},t.target)}function X(e,t){var n=new Date;return null!==t?new Date(t)>n:new Date(e)>n}function Z(e){1==e&&ee(),2==e&&te()}function ee(){var t={},n=i.COMM_APPBASE+"post/"+e.x.activity_id+"?utm_source=admin_mail&utm_medium=email&utm_campaign=post/"+e.x.activity_id,a=e.mainContent.$$unwrapTrustedValue();a=ne(a),a.length>194&&(a=a.slice(0,194)+" ......");var o=a+"\n\nView this news on : "+n;t.message=o;var r={message:t.message};m.openISPSharingDialog(event,r)}function te(){var t={},n=i.COMM_APPBASE+"post/"+e.x.activity_id+"?utm_source=admin_mail&utm_medium=email&utm_campaign=post/"+e.x.activity_id,a=e.mainContent.$$unwrapTrustedValue();a=ne(a),a.length>194&&(a=a.slice(0,194)+" ......");var o="New Poll in "+i.app_data.data.short_name+" \n\n"+a+"\n\nVote on this Poll : "+n;t.message=o;var r={message:t.message};m.openISPSharingDialog(event,r)}function ne(e){return e?String(e).replace(/<[^>]+>/gm,""):""}e.s3_url=a.s3base_url,e.page_root=i.COMM_APPBASE,e.mainContent=n.trustAsHtml(e.x["t"+e.x.activity+"_content"]);var ae=(screen.height,screen.width,{1:2,2:3,3:4,4:5,5:6,6:9,7:7,8:1,9:1,10:1,11:8,12:1,13:10}),oe=-1;e.getEventTitle=y,e.getStartDate=x,e.getEventTime=w,e.getEventId=M,e.getPostedDate=f,e.getPosterName=g,e.getLikesCount=v,e.pollOptions=h,e.eventImage=b,e.getImages=S,e.posterBasicId=P,e.posterBasic=k,e.eventCreatorUui=C,e.eventEnhancer=I,e.eventEnhancerUid=L,e.getDesignation=$,e.votePercentage=D,e.getParentId=O,e.getLikeStatus=A,e.likeCallBack=E,e.likeText=q,e.tipShow=0==e.$index&&i.newAdminPost,e.tippyOption={arrow:!0,theme:e.tipShow?"excited":"dark",zIndex:999,dynamicTitle:!0,duration:[300,1e3]},e.getmainComments=B,e.getcommentText=T,e.checkDates1=j,e.commentButtonClick=N,e.addNewComment=R,e.optionStyle=F,e.voteCallBack=H,e.closeOptions=U,e.toggleCommentOptions=V,e.isViewingOptions=z,e.closeCommentOptions=W,e.canDelete=G,e.deleteNewsPost=Y,e.splicePost=J,e.trimComment=K,e.getLikeList=Q,e.checkDates=X,e.shareCard=shareCard,e.cloning=d,e.cloningFacebook=Z,e.adminRights=l.isAllowed,isObject(e.x.__options)||(e.x.__options={}),function(){var t=Math.floor(Date.now()/1e3);null!==e.x.t1_time&&t-e.x.t1_time<120&&(e.tipShow=!0)}()}angular.module("in-out-rm").directive("nbCard",e).controller("NbCardController",t),e.$inject=["$compile","$http","$templateCache","$parse","s3","bootModal"],t.$inject=["$scope","$http","$sce","s3","bootModal","$rootScope","adminMailClone","mailTemplate","$timeout","asSocialPlatforms","adminRights"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,s,c,m,l,d,u){function p(){var n={mentor_id:e.mentorId};return t.postDataCall("./mentorship/mentorship/get_mentor",n,function(t){if(1==t.success)e.mentorInfo=t.data.mentor,b(e.mentorInfo);else try{e.pageMessage=t.data.message,e.pageError=t.data.error}catch(e){}})}function _(t){e.currentListShow=!1,e.requestsListShow=!1,e.mentorsListShow=!1,6==t?(e.currentListShow=!0,e.fetchMentorships([1])):7==t?(e.requestsListShow=!0,e.fetchMentorships([0,2])):8==t&&(e.mentorsListShow=!0,e.loadMentors()),1==e.isSmallDisplay&&(e.showDrawer=!1)}function g(n){var a="./mentorship/mentorship/fetch_all_mentorships",o={mentee_statuses:n};return 2==n.length&&0==e.requestsListLoad?t.postDataCall(a,o,function(t){if(1==t.success)e.requestsList=t.data.mentorships,e.requestsListLoad=!0,0==e.requestsList.length&&(e.pageMessage="No pending or rejected Mentorships");else try{e.pageMessage=t.data.message,e.pageError=t.data.error}catch(e){}}):1==n.length&&0==e.currentListLoad?t.postDataCall(a,o,function(t){if(1==t.success)e.currentList=t.data.mentorships,e.currentListLoad=!0,0==e.currentList.length&&(e.pageMessage="No active mentorship threads found.");else try{e.pageMessage=t.data.message,e.pageError=t.data.error}catch(e){}}):void 0}function f(t){e.mentor_status_key!=t&&(e.mentor_status_key=t,e.stream=1,e.loadMentors(1))}function v(n,a){var o="./mentorship/mentorship";1==a?o+="/accept_mentorship":2==a&&(o+="/reject_mentorship");var i={mentee_id:n.mentee_id};return t.postDataCall(o,i,function(t){if(1==t.success){for(var o=-1,i=e.requestsList.length-1;i>=0;i--)if(e.requestsList[i].mentee_id==n.mentee_id){o=i;break}1==a?(e.pageMessage="You can start mentoring "+n.mentee_first_name+" now.",e.requestsList.splice(o,1),n.mentee_status=a.toString(),e.currentList.unshift(n)):2==a&&(e.pageMessage="Mentorship request rejected successfully.",e.requestsList[o].mentee_status=a.toString()),snackbar_general(e.pageMessage,3500)}else try{e.pageMessage=t.data.message,e.pageError=t.data.error}catch(e){}})}function h(n){if(n&&(e.no_more_mentors=!1),0==e.no_more_mentors&&!e.loading_mentors){e.loading_mentors=!0;var a={stream:e.stream,limit:e.limit,cid:e.myCid};return d.isAllowed(2)&&(3!=e.mentor_status_key?a.approved=[e.mentor_status_key]:a.approved=[0,1,2]),1==a.stream&&n&&(null!=e.mentorInfo?e.mentorsList.splice(1):e.mentorsList=[]),t.postDataCall("./mentorship/mentorship/get_mentors",a,function(t){if(e.loading_mentors=!1,1==t.success){for(var n=0;n<t.data.mentors.length;n++)e.mentorsList.push(t.data.mentors[n]);t.data.mentors.length==e.limit?(e.stream=e.stream+1,e.no_more_mentors=!1):e.no_more_mentors=!0}else if(10==t.success)e.no_more_mentors=!0;else try{e.pageMessage=t.data.message,e.pageError=t.data.error}catch(e){}as_upgrade(100)})}}function y(){var n="./mentorship/mentorship",a={};return null!=e.beMenteeOfMentor.mentee_id&&2==e.beMenteeOfMentor.mentee_status?(n+="/update_mentee_message",a={mentee_id:e.beMenteeOfMentor.mentee_id,message:e.menteeMessage}):null==e.beMenteeOfMentor.mentee_id&&(n+="/new_mentee",a={mentor_id:e.beMenteeOfMentor.mentor_id,message:e.menteeMessage}),t.postDataCall(n,a,function(t){if(1==t.success){e.isMentee=!0;if(e.pageMessage="Request has been sent to mentor.",snackbar_general(e.pageMessage,3500),e.beMenteeOfMentor.mentee_message=e.menteeMessage,e.beMenteeOfMentor.mentee_status=(0).toString(),e.beMenteeOfMentor.mentee_time=Math.floor(Date.now()/1e3).toString(),null!=e.beMenteeOfMentor.mentee_id)for(var n=e.requestsList.length-1;n>=0;n--)if(e.requestsList[n].mentee_id==e.beMenteeOfMentor.mentee_id){e.requestsList.splice(n,1);null;break}e.adjustMentorship(t.data.mentee_id),e.beMenteeOfMentor.mentee_id=t.data.mentee_id.toString(),e.beMenteeOfMentor.mentee_user_basic_id=e.myUid,e.requestsList.unshift(e.beMenteeOfMentor),e.disableNewMentorship()}else try{e.pageMessage=t.data.message,e.pageError=t.data.error}catch(e){}})}function x(e,t){M(e,t)}function w(){e.newMentee=!1,e.menteeMessage="",e.beMenteeOfMentor=null,e.menteeMessageShowError=!1}function M(e,t){var n={name:e.mentor_first_name+" "+e.mentor_last_name,uui:e.mentor_unique_user_id,uid:e.mentor_user_basic_id},a="Hi, "+e.mentor_first_name+" "+e.mentor_last_name;a+="\nI am looking for a mentor and your profile matches with what I am looking for.",a+="\nWe both belong to this same community and your expertise can help me out here.",a+="\n\nIt will be great pleasure to get guidance from you.",a+="\nThanking you,\n"+m.app_data.name;var o={heading:"Send Mentorship Message",hideChips:!0,defaultMessage:a};l.openSendBox(n,t.target,function(){},o)}function b(t){for(var n=null,a=e.mentorsList.length-1;a>=0&&(n=e.mentorsList[a],n.mentor_user_basic_id!=e.myUid);a--);if(null==n){n={mentees_count:0,mentor_available:0,mentor_available_from_date:0,mentor_batch_end:0,mentor_batch_start:0,mentor_degree:"",mentor_department:"",mentor_first_name:m.app_data.name,mentor_id:null,mentor_last_name:"",mentor_message:"",mentor_role:0,mentor_sectors:null,mentor_unique_user_id:0,mentor_user_basic_id:m.app_data.uid,profile_pic:m.app_data.profile_pic,mentor_approved_status:0};var o=m.app_data.logged_user_roles[0];o&&(n.mentor_batch_end=o.end,n.mentor_batch_start=o.start,n.mentor_degree=o.degree,n.mentor_department=o.department,n.mentor_role=o.role,n.mentor_unique_user_id=o.id),e.mentorsList.push(n)}else t&&(n.mentor_approved_status=t.approved,n.mentees_count=t.mentees_count,n.mentor_available=t.available,n.mentor_available_from_date=t.available_from_date,n.mentor_id=t.id,n.mentor_message=t.message,n.mentor_sectors=t.sectors.length>0?t.sectors[0].sector:"")}function S(t){for(var n=e.mentorsList.length-1;n>=0;n--){if(e.mentorsList[n].mentor_id==e.beMenteeOfMentor.mentor_id){e.mentorsList[n].mentee_id=t,e.mentorsList[n].mentee_status=(0).toString(),e.mentorsList[n].mentee_time=Math.floor(Date.now()/1e3).toString();break}}}function P(e,t){1!=m.app_data.loginStatus&&s.go("inapp.login",{redirect:"./mentorship"});var n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e)}function k(t){if(1!=m.app_data.loginStatus)s.go("inapp.login",{redirect:"./mentorship"});else if("mentor"==t){if(e.new_mentor_form=!0,0==e.preferences.mentor.length)return;s.go("inapp.newmentor",{extra_params:{mentorPreferences:e.preferences.mentor}})}else if("mentee"==t){if(e.new_mentee_form=!0,0==e.preferences.mentee.length)return;C(e.preferences.mentee)}}function C(n){if(n&&0!=n.length){var a={preferences:n};return t.postDataCall("./mentorship/mentorship/set_mentee_preferences",a,function(t){if(1==t.success)I();else try{console.log("Mentee preferences",t.data),e.pageMessage=t.data.message,e.pageError=t.data.error}catch(e){}})}}function I(){var e={skills:{reason:"Let mentors know about your "+u("asLingo")("42")},photo:{reason:"Let mentors recognize you in the Directory."}};s.go("inapp.extra_info",{fields:"skills,work,education,photo",pref:"noSocial",removeHeader:!1,extra_params:{redirect:"inapp.mentorship",allowedFor:e}})}function L(){e.showtickmark1=!0,e.showtickmark2=!1}function $(){e.showtickmark1=!1,e.showtickmark2=!0}function D(){e.roleSubmitted=!0,!0===e.showtickmark1?s.go("inapp.newmentor"):!0===e.showtickmark2&&e.showTab(8)}function O(){console.log("here"),E(e.mentor_stats,e.mentor_info,e.mentor_event)}function A(t,n,a){e.mentor_stats=t,e.mentor_info=n,e.mentor_event=a;var o={name:n.mentor_first_name+" "+n.mentor_last_name,uui:n.mentor_unique_user_id,uid:n.mentor_user_basic_id},i="Hi, "+n.mentor_first_name+" "+n.mentor_last_name;2==t&&(i+="\nWe are sorry. You profile do not match our criteria for a mentor and therefor you request to become a mentor can not be approved."),1==t&&(i+="\nCongratulations your request to become a mentor has been approved. Now onwards mentees will be able to find and approach you easily."),i+="\n\nThanking you,\n"+m.app_data.name;var r=2==t?"Send Rejection Message":"Send Approval Message",s={heading:r,hideChips:!0,defaultMessage:i,sendMessageCallback:O};l.openSendBox(o,a.target,function(){},s)}function E(e,n){if(d.isAllowed(2)){var a="./mentorship/mentorship";1==e?a+="/approve_mentor":2==e&&(a+="/reject_mentor");var o={mentor_id:n.mentor_id};return t.postDataCall(a,o,function(t){1==t.success&&(n.mentor_approved_status=e,1==e?snackbar_general("Profile Approved Successfully.",3500):snackbar_general("Profile Rejected Successfully.",3500))})}}e.s3base=s3base,e.myUid=m.app_data.uid,e.myCid=m.app_data.cid,e.API_BASE_URL=c.API_BASE_URL,e.instituteName=m.app_data.data.name,e.mentorId=0,e.mentorInfo=null,e.isMentee=!1,e.pageError=null,e.pageMessage=null,e.stream=1,e.limit=10,e.no_more_mentors=!1,e.mentorsListShow=!1,e.mentorsList=[],e.currentListShow=!1,e.requestsListShow=!1,e.currentList=[],e.currentListLoad=!1,e.requestsList=[],e.requestsListLoad=!1,e.menteeMessage="",e.newMentee=!1,e.beMenteeOfMentor=null,e.showDrawer=!1,e.isSmallDisplay=!1,window.innerWidth<480&&(e.isSmallDisplay=!0),e.getMentorInfo=p,e.showTab=_,e.fetchMentorships=g,e.loadMentors=h,e.filterMentorsByStatus=f,e.updateMenteeStatus=v,e.updateMentorStatus=E,e.enableNewMentorship=x,e.disableNewMentorship=w,e.askForMentorship=y,e.adjustMentorship=S,e.tickPreference=P,e.savePreferences=k,e.mentor_update_message=A,e.showtickmark1=!1,e.showtickmark2=!1,e.menteeMessageShowError=!1,e.roleSubmitted=!1,e.rolementor=L,e.rolementee=$,e.rolesubmit=D,e.adminRights=d.isAllowed,e.mentor_status={1:"Accepted Requests",0:"Pending Requests",2:"Rejected Requests",3:"Show All Mentors"},e.mentor_status_key=1,function(){e.preferences={all:["Higher Studies","Career Advice","Personal Guidance"],mentor:[],mentee:[]};var t=o.data;if(1!=t.success)if(-1==t.success)e.mentorId=0;else try{e.pageMessage=t.data.message,e.pageError=t.data.error}catch(e){}else b(),e.mentorId=t.data.mentor.id,e.getMentorInfo();if(t=i.data,1!=t.success)if(-1==t.success)e.isMentee=!1;else try{e.pageMessage=t.data.message,e.pageError=t.data.error,e.isMentee=!1}catch(e){}else{e.isMentee=!0;try{e.menteePreferences=t.data.mentee.meta_value.split(",")}catch(e){}}e.showTab(8),e.isMobile=mobile_web_tab.isMobile,angular.element(c).on("resize",function(){e.isSmallDisplay=!1,window.innerWidth<480&&(e.isSmallDisplay=!0)}),e.$on("$destroy",function(){angular.element(c).on("resize")}),c.onbeforeunload=function(){e.$destroy()}}()}angular.module("in-out-rm").controller("mentorshipController",e),e.$inject=["$scope","sidetopHttp","$http","$timeout","getMentorshipMentorId","getMentorshipIsMentee","$interval","$state","$window","$rootScope","asMessages","adminRights","$filter"]}(),function(){"use strict";function e(e){e.startSearchNow={},e.searchInitialData={fetchLost:1,categories:[{fields:["name","yop","has_duplicates"],displayName:"Name"},{fields:["degree","department"],displayName:"Basic Filters"}],lost:1,fields:{has_duplicates:{displayName:"",actionString:"",hidden:!0,futherSearchType:"dropdown",singleSearch:!0,futherSearchParams:{placeholder:"--Select Option--",serviceNameField:"name",serviceIdField:"id",dropdownList:[{id:0,name:"Internship Provider"},{id:1,name:"Internship Referrer"}]},countsRequired:!1}},dataParams:{has_duplicates:0}},function(){setTimeout(function(){e.startSearchNow.start()},100)}()}angular.module("in-out-rm").controller("missingMembersCtrl",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t,n,a,o,i,r,s,c,m,l,d){function u(n,a){var o={message:n,preferences:a};return o.approved=l.enabled("mentorship.admin_approval.*",!1)?0:1,e.calling_api=!0,t.postDataCall("./mentorship/mentorship/new_mentor",o,function(t){if(e.calling_api=!1,1==t.success)p();else try{e.pageMessage=t.data.message,e.pageError=t.data.error,snackbar_general("Something went wrong.",3500)}catch(e){}})}function p(){var e={skills:{reason:"Let people know about your "+d("asLingo")("42")},photo:{reason:"Let people recognize you in the Directory."}};r.go("inapp.extra_info",{fields:"skills,work,education,photo",pref:"noSocial",removeHeader:!1,extra_params:{redirect:"inapp.newmentor",allowedFor:e}})}function _(){var n={mentor_id:e.mentorId};return t.postDataCall("./mentorship/mentorship/get_mentor",n,function(t){if(1==t.success)e.mentorInfo=t.data.mentor,2!=e.mentorInfo.approved&&(e.mentorMessage=e.mentorInfo.message,e.mentorInfo.available_for&&(e.mentorPreferences=e.mentorInfo.available_for.split(",")));else try{e.pageMessage=t.data.message,e.pageError=t.data.error,snackbar_general("Mentor info could not be loaded",3500)}catch(e){}})}function g(){var t=o.data;if(1!=t.success)if(-1==t.success)e.mentorId=0;else try{e.pageMessage=t.data.message,e.pageError=t.data.error}catch(e){}else e.mentorId=t.data.mentor.id,e.getMentorInfo()}function f(){var n={mentor_id:e.mentorId},a="./mentorship/mentorship";return 1==e.mentorInfo.available?a+="/unavail_mentor":a+="/avail_mentor",t.postDataCall(a,n,function(t){if(1==t.success)e.getMentorInfo(),snackbar_general("Mentor availability updated successfully.",3500);else try{e.pageMessage=t.data.message,e.pageError=t.data.error,snackbar_general("Something went wrong.",3500)}catch(e){}})}function v(n,a){var o={mentor_id:e.mentorId,message:n,preferences:a};return e.calling_api=!0,t.postDataCall("./mentorship/mentorship/update_mentor_message",o,function(t){if(e.calling_api=!1,1==t.success)2!=e.mentorInfo.approved?e.pageMessage="Information updated successfully.":e.pageMessage="Mentorship request is re-submitted to admin.",e.mentorInfo.message=n,e.getMentorInfo(),snackbar_general(e.pageMessage,2500);else try{e.pageMessage=t.data.message,e.pageError=t.data.error,snackbar_general("Something went wrong.",3500)}catch(e){}})}function h(n){var a={user_id:e.myUid,type:3,sector_id:n,is_array:!0};return t.postDataCall("./sectors/remove_user_sector",a,function(t){if(1==t.success);else try{e.pageMessage=t.data.message,e.pageError=t.data.error}catch(e){}})}function y(n){var a={user_id:e.myUid,type:3,sector_id:n,is_array:!0};return t.postDataCall("./sectors/add_user_sector",a,function(t){if(1==t.success);else try{e.pageMessage=t.data.message,e.pageError=t.data.error}catch(e){}})}function x(){for(var t=!1,n=0;n<e.userSectors.length;n++){t=!1;for(var a=e.finalSectors.length-1;a>=0;a--)if(e.userSectors[n].id==e.finalSectors[a].id){e.finalSectors.splice(a,1),t=!0;break}t||e.addedSectors.push(e.userSectors[n])}for(var a=e.finalSectors.length-1;a>=0;a--)e.removedSectors.push(e.finalSectors[a]);e.finalSectors=e.userSectors.slice();for(var o=[],i=e.addedSectors.length-1;i>=0;i--)o.push(e.addedSectors[i].id);0!=e.addedSectors.length&&e.addSectors(o);for(var r=[],i=e.removedSectors.length-1;i>=0;i--)r.push(e.removedSectors[i].id);0!=e.removedSectors.length&&e.removeSectors(r),e.addedSectors=[],e.removedSectors=[]}function w(t,n,o){e.mentorFormSubmit=!0,a(function(){!o.$invalid&&e.user_sector&&0!=e.mentorPreferences.length&&(e.mentorFormSubmit=!1,b(),0==e.mentorId&&e.beMentor(t,n),0!=e.mentorId&&e.changeMessageFun(t,n))},100)}function M(){n({url:"./jobs/fetch_all_sectors",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){e.all_sec=t}),as_upgrade(1e3)}function b(){n({url:"./jobs/add_sectors/3",method:"POST",data:{sector_id:e.user_sector},headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function S(t){var n=e.mentorPreferences.indexOf(t);n>-1?e.mentorPreferences.splice(n,1):e.mentorPreferences.push(t)}function P(){try{var t=m.extra_params;if(!t)return;console.log(t.mentorPreferences),Array.isArray(t.mentorPreferences)&&(e.mentorPreferences=t.mentorPreferences,e.mentorPreferences.length>0&&(e.mentorMessage="Approach me for "+e.mentorPreferences.join(", ")))}catch(e){}}e.s3base=s3base,e.myUid=c.app_data.uid,e.myCid=c.app_data.cid,e.bcCreationData="",e.finalSectors=[],e.mentorId=0,e.mentorInfo=null,e.mentorMessage="",e.mentorPreferences=[],e.user_sector=null,e.changeAvailability=!1,e.beMentor=u,e.isMentor=g,e.getMentorInfo=_,e.changeAvailabilityFun=f,e.changeMessageFun=v,e.removeSectors=h,e.addSectors=y,e.tickPreference=S,e.mentorFormSubmit=!1,e.addedSectors=[],e.removedSectors=[],e.userSectors=[],e.brSet=!1,e.mentorFormSubmitFun=w,e.adjustSectors=x,function(){if(M(),P(),1!=i.data.success)try{e.pageMessage=i.data.data.message,e.pageError=i.data.data.error}catch(e){}else e.userSectors=i.data.data.sectors,e.finalSectors=e.userSectors.slice(),Array.isArray(e.userSectors)&&1==e.userSectors.length&&(e.user_sector=e.userSectors[0].id);e.isMobile=mobile_web_tab.isMobile,e.isMentor(),e.bcCreationData=window.location.search,e.bcCreationData+="?mentorid="+encodeURIComponent(e.mentorId),e.brSet=!0,console.log(e.bcCreationData),e.$on("$destroy",function(){}),s.onbeforeunload=function(){e.$destroy()},e.preferences=["Higher Studies","Career Advice","Personal Guidance"]}()}angular.module("in-out-rm").controller("newmentorController",e),e.$inject=["$scope","sidetopHttp","$http","$timeout","getMentorshipMentorId","newmentorInitData","$state","$window","$rootScope","$stateParams","features","$filter"]}(),function(){"use strict";function e(e,t,n,a){e.data={},e.loading=!1,e.failed=!0,function(){console.log(n),e.data.view="Trying to fetch payment response.",1==n.data.success?(e.data=n.data.data,e.data.view=a.trustAsHtml(e.data.view),void 0!=e.data.transactionSuccess&&1==e.data.transactionSuccess?e.failed=!1:e.failed=!0):e.failed=!0}()}angular.module("in-out-rm").controller("postOrderController",e),e.$inject=["$scope","$http","postOrderData","$sce"]}(),function(){"use strict";function e(e,t,n,a,o,i,r){function s(){if(void 0!==e.dynamicpageBuilder)return r("evalObj")(e.dynamicpageBuilder),e.dynamicHeader}e.content="",e.loading=!1,window.dynamicpageBuilder={},function(){if(!angular.isDefined(n.data.data)||!angular.isDefined(n.data.data.content))return void a.go("inapp.404");e.content=o.trustAsHtml(n.data.data.content),e.page=n.data.data,console.log("startcall"),e.$watch(function(){return window.dynamicpageBuilder},function(t){e.dynamicpageBuilder=t,s()})}()}angular.module("in-out-rm").controller("staticPageController",e),e.$inject=["$scope","$http","staticPageData","$state","$sce","$compile","$filter"]}();
//# sourceMappingURL=in_out_rm.min.js.map
